!function(){const e=Array.from(document.querySelectorAll("#content img"));if(!e.length)return;const t=document.createElement("div");t.style.cssText="position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;flex-direction:column;z-index:9999;",t.hidden=!0,t.setAttribute("aria-modal","true"),t.setAttribute("role","dialog"),t.setAttribute("tabindex","-1"),t.innerHTML='\n    <button class="lb-close" style="position:absolute;top:1rem;right:1rem;font-size:2rem;color:white;background:none;border:none;cursor:pointer">&times;</button>\n    <button class="lb-prev" style="position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:2rem;color:white;background:none;border:none;cursor:pointer">❮</button>\n    <img style="max-height:80vh;max-width:90vw;margin-bottom:.5rem" />\n    <div class="lb-caption" style="color:white;text-align:center"></div>\n    <button class="lb-next" style="position:absolute;right:1rem;top:50%;transform:translateY(-50%);font-size:2rem;color:white;background:none;border:none;cursor:pointer">❯</button>\n  ',document.body.appendChild(t);const n=t.querySelector("img"),o=t.querySelector(".lb-caption"),r=t.querySelector(".lb-prev"),i=t.querySelector(".lb-next"),c=t.querySelector(".lb-close");r.setAttribute("aria-label","Previous image"),i.setAttribute("aria-label","Next image"),c.setAttribute("aria-label","Close");let l,s=0;function a(r){s=(r+e.length)%e.length;const c=e[s],a=c.closest("a"),u=a&&/\.(jpe?g|png|gif|webp|svg|bmp)(\?.*)?$/i.test(a.href)?a.href:c.src;n.src=u,o.textContent=function(e){const t=e.closest("figure"),n=t?t.querySelector("figcaption"):null;return n?n.textContent:e.alt||""}(c),l=document.activeElement,t.hidden=!1,t.style.display="flex",i.focus()}function u(){a(s+1)}function d(){a(s-1)}function b(){t.hidden=!0,t.style.display="none",l&&l.focus()}e.forEach((e,t)=>{const n=e.closest("a");n&&n.addEventListener("click",e=>e.preventDefault()),e.addEventListener("click",e=>{e.preventDefault(),a(t)})}),i.addEventListener("click",u),r.addEventListener("click",d),c.addEventListener("click",b),t.addEventListener("click",e=>{e.target===t&&b()});const m=c,f=i;document.addEventListener("keydown",e=>{t.hidden||("ArrowRight"===e.key?u():"ArrowLeft"===e.key?d():"Escape"===e.key?b():"Tab"===e.key&&(e.shiftKey?document.activeElement===m&&(f.focus(),e.preventDefault()):document.activeElement===f&&(m.focus(),e.preventDefault())))})}();
